<%= render 'social/user_profile_header', person: @person %>
<%= render partial: 'social/social_nav', locals: profile_header_porps(@person) %>

<div class="col-md-9 wall_content reset-padding">
  <div class="user-profile-content-wrapper">
    <%= render 'social/wall_post_form' if current_user?(@person) %>
    <div class="wall-posts">
      <ul class="all_post">
        <% posts.each do |post| %>
            <%= render 'people/wall_post_item', post: post, person: @person %>
        <% end %>
      </ul>
    </div>
  </div>
</div>
<% if @current_user.present? %>
    <aside class="col-md-3 sidebar" style="position: relative;">
      <div class="wrapper-notifications">
        <h3 class="stit">Notifications</h3>
        <ul>
          <% UserNotification.all.limit(10).each do |notification| %>
              <li>
                <%= small_avatar_thumb(notification.notification_sender, {class: 'photo'}) %>
                <span class="noti-wrap">
                <small class="date"><%= notification.created_at.strftime('%b %d') %></small>
                  <%= link_to notification.notification_sender.given_name_or_username, person_path(notification.notification_sender.username), class: 'username' %>
                  <%= notification.content %>
              </span>
              </li>
          <% end %>
        </ul>
        <a href="<%= all_notification_person_path(@current_user) if @current_user.present? %>" class="find">View all
          notifications</a>
      </div>
    </aside>
<% end %>

<%= content_for :extra_javascript do %>
    <script type="text/javascript">
        $(function () {
            var attWrapper = $(".attachment-slide-wrapper");
            $('.feedback').rating({displayOnly: true, step: 0.5});
            $(".wrapper-notifications ul").niceScroll();
            attWrapper.niceScroll({
                horizrailenabled: true
            });
            attWrapper.getNiceScroll().hide();
            $("aside .wrapper-notifications").sticky({
                widthFromWrapper: false,
                topSpacing: 70
            });
        });
    </script>
<% end %>
